<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Fairytale Princess ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #ff4757;
            --accent: #ff6b6b;
            --bg-grad: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
        }

        * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        html, body { height: 100%; margin: 0; padding: 0; background: #ffafbd; font-family: 'Poppins', sans-serif; overflow: hidden; position: fixed; width: 100%; }
        body { display: flex; justify-content: center; align-items: center; background: var(--bg-grad); transition: background 0.5s ease; }

        .container {
            width: 95%; max-width: 380px; background: rgba(255, 255, 255, 0.35);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 20px; border-radius: 30px; border: 1px solid rgba(255, 255, 255, 0.4);
            text-align: center; z-index: 10; position: relative; min-height: 420px;
            display: flex; flex-direction: column; justify-content: center;
            box-shadow: 0 15px 35px rgba(255, 71, 87, 0.2);
        }

        .shake-ani { animation: shake 0.2s ease-in-out; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-6px); } 75% { transform: translateX(6px); } }

        .hint-window {
            background: white; color: var(--primary); padding: 5px 12px; border-radius: 12px;
            font-size: 0.75rem; font-weight: 600; position: absolute; top: -10px; left: 50%;
            transform: translateX(-50%); box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            animation: bounce 2s infinite; white-space: nowrap; z-index: 100;
        }
        @keyframes bounce { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(-5px); } }

        .hidden { display: none !important; }
        .celebration-title { font-family: 'Dancing Script', cursive; font-size: 2.2rem; color: var(--primary); margin: 0 0 10px 0; }
        
        .cute-btn {
            display: inline-block; padding: 10px 20px; margin: 5px; border: none; border-radius: 50px; 
            background: var(--accent); color: white; font-size: 14px; font-weight: 600; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3); z-index: 5;
        }

        /* Rainbow Yes Buttons */
        .btn-yellow { color: #FFD700 !important; background: #555; }
        .btn-blue { color: #00BFFF !important; background: #555; }
        .btn-green { color: #32CD32 !important; background: #555; }

        .slider { -webkit-appearance: none; width: 100%; height: 12px; border-radius: 10px; background: #eee; outline: none; margin: 20px 0; }
        .slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 28px; height: 28px; border-radius: 50%; background: var(--primary); cursor: pointer; border: 3px solid white; }

        .photo-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 10px 0; }
        .photo-box { width: 100%; aspect-ratio: 1/1; border-radius: 15px; overflow: hidden; border: 3px solid white; }
        .photo-box img { width: 100%; height: 100%; object-fit: cover; }

        .btn-wrapper-large { position: relative; width: 100%; height: 220px; margin-top: 10px; display: flex; flex-wrap: wrap; justify-content: center; align-items: flex-start; }

        .heart-float { position: absolute; pointer-events: none; z-index: 1; animation: floatUp 5s linear infinite; }
        @keyframes floatUp { 0% { transform: translateY(110vh) rotate(0); opacity: 1; } 100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; } }
        .confetti-piece { position: fixed; width: 10px; height: 10px; z-index: 9999; pointer-events: none; border-radius: 2px; }
    </style>
</head>
<body>

    <div class="container page-transition" id="mainContainer">
        <audio id="bgMusic" loop preload="auto"><source src="music.mp3" type="audio/mpeg"></audio>

        <div id="page0">
            <h1 class="celebration-title">Happy Valentine's Day! ‚ù§Ô∏è</h1>
            <p>Faria, an <b>Angel</b> is the only one who could ever light up the <b>Sun</b>. üåª</p>
            <button class="cute-btn" id="startValentine">Enter ‚ú®</button>
        </div>

        <div id="pageDate" class="hidden">
            <h2 class="celebration-title">27 / 12 / 2025</h2>
            <p>Our journey officially began. ‚ù§Ô∏è</p>
            <button class="cute-btn" onclick="nextPage('pageDate', 'pageCounter')">Continue ‚û°Ô∏è</button>
        </div>

        <div id="pageCounter" class="hidden">
            <h2 class="celebration-title">338 Days Met</h2>
            <p>Every single day has been a blessing, Twin. ‚ú®</p>
            <button class="cute-btn" onclick="nextPage('pageCounter', 'question1')">Next ‚û°Ô∏è</button>
        </div>

        <div id="question1" class="hidden">
            <h2 class="celebration-title">Do you like me?</h2>
            <div class="btn-wrapper-large" id="wrap1">
                <div class="hint-window">Psst... try pressing 'No' üòâ</div>
                <button class="cute-btn" id="yesBtn1" style="position: absolute; left: 10%; top: 40px;">Yes</button>
                <button class="cute-btn" id="noBtn1" style="position: absolute; right: 10%; top: 40px;">No</button>
            </div>
            <button class="cute-btn hidden" id="secretAnswerBtn" style="width:100%">I LOVE YOU! ‚ù§Ô∏è</button>
        </div>

        <div id="pageGallery" class="hidden">
            <h2 class="celebration-title">Our Memories</h2>
            <div class="photo-grid">
                <div class="photo-box"><img src="pic1.jpg.jpg"></div>
                <div class="photo-box"><img src="pic2.jpg.jpg"></div>
                <div class="photo-box"><img src="pic3.jpg.jpg"></div>
                <div class="photo-box"><img src="pic4.jpg.jpg"></div>
            </div>
            <button class="cute-btn" onclick="nextPage('pageGallery', 'question2')">Proceed ‚û°Ô∏è</button>
        </div>

        <div id="question2" class="hidden">
            <h2 class="celebration-title">Love Meter</h2>
            <p id="meterStatus" style="font-size: 0.8rem;">Prove it! Slide to the max... üíñ</p>
            <input type="range" min="0" max="10000" value="0" class="slider" id="loveMeter">
            <p style="font-size: 1.5rem; font-weight: bold; color: var(--primary);"><span id="loveValue">0</span>%</p>
            <button class="cute-btn" id="nextBtn" disabled style="background:#bbb; opacity:0.6;">Not enough love! üîí</button>
        </div>

        <div id="question3" class="hidden">
            <h2 class="celebration-title">Be my Valentine?</h2>
            <div class="btn-wrapper-large" id="wrap3">
                <div class="hint-window">Pick a color! ‚ù§Ô∏è</div>
                <button class="cute-btn" onclick="nextPage('question3', 'pageLetter1')">Yes (Red)</button>
                <button class="cute-btn btn-yellow" onclick="nextPage('question3', 'pageLetter1')">Yes (Yellow)</button>
                <button class="cute-btn btn-blue" onclick="nextPage('question3', 'pageLetter1')">Yes (Blue)</button>
                <button class="cute-btn btn-green" onclick="nextPage('question3', 'pageLetter1')">Yes (Green)</button>
                <button class="cute-btn" id="noBtn3" style="position: absolute; bottom: 10px;">No</button>
            </div>
        </div>

        <div id="pageLetter1" class="hidden">
            <h2 class="celebration-title">For You, Princess</h2>
            <div class="letter-content">To my fairytale princess, I won‚Äôt ask you to be my valentine‚ÄîI‚Äôm not trying to be your boyfriend, just your husband someday. No matter where life takes you, whenever the sun rises, I‚Äôll think of you.</div>
            <button class="cute-btn" onclick="nextPage('pageLetter1', 'pageLetter2')">Read more ‚û°Ô∏è</button>
        </div>

        <div id="pageLetter2" class="hidden">
            <div class="letter-content">You‚Äôre my first love, and if Allah wills, my last. Like a compass, what‚Äôs meant for you always finds its way back. Keep smiling freely. I‚Äôll grow into your dream man. <br><br><b>Loveyou 3000 always.</b></div>
            <button class="cute-btn" onclick="nextPage('pageLetter2', 'celebration')">Finish ‚ú®</button>
        </div>

        <div id="celebration" class="hidden">
            <h1 class="celebration-title">Date Confirmed! ü•≥</h1>
            <p>I'm the luckiest twin ever! ‚ù§Ô∏è</p>
            <div style="font-size: 3.5rem;">üíñ‚ú®üåª</div>
            <p style="font-size: 0.8rem; opacity: 0.8;">Love, Your Sunshine üåª</p>
        </div>
    </div>

    <script>
        const container = document.getElementById('mainContainer');
        const music = document.getElementById('bgMusic');
        const phrases = ["Try again", "Rude! üòû", "Nope", "Wait!", "Wrong button"];
        let clickCount = 0;

        function triggerHaptics() {
            if(navigator.vibrate) navigator.vibrate(50);
            container.classList.add('shake-ani');
            setTimeout(() => container.classList.remove('shake-ani'), 200);
        }

        function nextPage(curr, next) {
            triggerHaptics();
            document.getElementById(curr).classList.add('hidden');
            document.getElementById(next).classList.remove('hidden');
            if(next === 'celebration') startMegaConfetti();
        }

        document.getElementById('startValentine').onclick = () => {
            music.play().catch(()=>{});
            nextPage('page0', 'pageDate');
            setInterval(createHeart, 450);
        };

        const loveMeter = document.getElementById('loveMeter');
        loveMeter.oninput = function() {
            const val = this.value;
            const percent = Math.floor(val / 100);
            document.getElementById('loveValue').innerText = percent;
            document.body.style.background = `linear-gradient(135deg, #ffafbd 0%, rgba(255, 71, 87, ${val/10000}) 100%)`;
            if (val >= 10000) {
                const btn = document.getElementById('nextBtn');
                btn.disabled = false; btn.innerText = "Proceed ‚û°Ô∏è"; btn.style.background = "#ff4757"; btn.style.opacity = "1";
            }
        };

        document.getElementById('nextBtn').onclick = () => nextPage('question2', 'question3');

        function moveBtn(btn, wrapper) {
            triggerHaptics(); clickCount++;
            if(btn.id.includes('no')) btn.innerText = phrases[clickCount % phrases.length];
            
            const rect = wrapper.getBoundingClientRect();
            const bRect = btn.getBoundingClientRect();
            btn.style.position = 'absolute';
            btn.style.left = Math.max(0, Math.random() * (rect.width - bRect.width)) + "px";
            btn.style.top = Math.max(0, Math.random() * (rect.height - bRect.height)) + "px";

            if(btn.id === 'noBtn1') {
                const secret = document.getElementById('secretAnswerBtn');
                secret.classList.remove('hidden');
                secret.style.boxShadow = `0 0 ${clickCount * 10}px #ff0040`;
            }
        }

        document.getElementById('noBtn1').onclick = function() { moveBtn(this, document.getElementById('wrap1')); };
        document.getElementById('noBtn3').onclick = function() { moveBtn(this, document.getElementById('wrap3')); };
        document.getElementById('yesBtn1').onclick = function() { moveBtn(this, document.getElementById('wrap1')); };
        document.getElementById('secretAnswerBtn').onclick = () => nextPage('question1', 'pageGallery');

        function createHeart() {
            const h = document.createElement('div');
            h.className = 'heart-float'; h.innerText = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üåª';
            h.style.left = Math.random() * 100 + "vw";
            h.style.fontSize = (Math.random() * 10 + 15) + "px";
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 5000);
        }

        function startMegaConfetti() {
            for(let i=0; i<150; i++) spawnConfetti();
            const interval = setInterval(spawnConfetti, 60);
            setTimeout(() => clearInterval(interval), 6000); 
        }

        function spawnConfetti() {
            const colors = ['#ff4757', '#FFD700', '#00BFFF', '#32CD32', '#FFA500'];
            const c = document.createElement('div');
            c.className = 'confetti-piece';
            c.style.background = colors[Math.floor(Math.random() * colors.length)];
            c.style.left = Math.random() * 100 + "vw";
            c.style.top = "-10px";
            document.body.appendChild(c);
            const fallDur = Math.random() * 3 + 2;
            c.animate([{ transform: `translateY(0) rotate(0deg)`, opacity: 1 }, { transform: `translate(${(Math.random() * 400) - 200}px, 105vh) rotate(${Math.random() * 800}deg)`, opacity: 0 }], { duration: fallDur * 1000, easing: 'ease-out' });
            setTimeout(() => c.remove(), fallDur * 1000);
        }
    </script>
</body>
</html>
