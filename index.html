<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Fairytale Princess ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #ff4757;
            --accent: #ff6b6b;
            --bg-grad: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
        }

        * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        
        html, body {
            height: 100%; margin: 0; padding: 0;
            background: #ffafbd; font-family: 'Poppins', sans-serif;
            overflow: hidden; position: fixed; width: 100%;
        }

        body { display: flex; justify-content: center; align-items: center; background: var(--bg-grad); }

        .page-transition { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .container {
            width: 90%; max-width: 360px;
            background: rgba(255, 255, 255, 0.35);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 25px; border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.4);
            text-align: center; z-index: 10;
            position: relative; min-height: 320px;
            display: flex; flex-direction: column; justify-content: center;
            box-shadow: 0 15px 35px rgba(255, 71, 87, 0.2);
        }

        .hint-window {
            background: white; color: var(--primary);
            padding: 6px 12px; border-radius: 12px;
            font-size: 0.75rem; font-weight: 600;
            position: absolute; top: -35px; left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            animation: bounce 2s infinite;
            white-space: nowrap; z-index: 100;
        }
        .hint-window::after {
            content: ''; position: absolute; bottom: -5px; left: 50%;
            transform: translateX(-50%); border-width: 5px 5px 0;
            border-style: solid; border-color: white transparent transparent;
        }
        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }

        .hidden { display: none !important; }
        .celebration-title { font-family: 'Dancing Script', cursive; font-size: 2.2rem; color: var(--primary); margin: 0 0 10px 0; }
        
        #musicToggle {
            position: fixed; top: 15px; right: 15px; z-index: 2000;
            background: rgba(255,255,255,0.7); border: none; border-radius: 50%;
            width: 44px; height: 44px; font-size: 20px;
        }

        .cute-btn {
            display: inline-block; padding: 12px 24px; margin: 8px; border: none; 
            border-radius: 50px; background: var(--accent); color: white; 
            font-size: 14px; font-weight: 600; cursor: pointer;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
        }

        #secretAnswerBtn {
            background: #ff0040;
            box-shadow: 0 0 5px #ff0040;
            transition: all 0.4s ease;
        }

        .photo-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0; }
        .photo-box {
            width: 100%; aspect-ratio: 1/1; border-radius: 15px; overflow: hidden; border: 3px solid white;
        }
        .photo-box img { width: 100%; height: 100%; object-fit: cover; }

        .letter-content {
            text-align: left; font-size: 0.88rem; color: #333; line-height: 1.6;
            background: rgba(255, 255, 255, 0.5); padding: 18px; border-radius: 18px;
            border-left: 5px solid var(--primary); margin-bottom: 15px;
        }

        .btn-wrapper { position: relative; width: 100%; height: 130px; margin-top: 10px; }

        .heart-float {
            position: absolute; color: rgba(255, 255, 255, 0.7);
            pointer-events: none; z-index: 1; animation: floatUp 5s linear infinite;
        }
        @keyframes floatUp { 0% { transform: translateY(110vh); opacity: 1; } 100% { transform: translateY(-10vh); opacity: 0; } }

        .confetti-piece {
            position: fixed; width: 10px; height: 10px; z-index: 9999;
            pointer-events: none; border-radius: 2px;
        }
    </style>
</head>
<body>

    <button id="musicToggle">üéµ</button>
    <div class="bg-layer"></div>
    
    <div class="container page-transition">
        <audio id="bgMusic" loop preload="auto">
            <source src="music.mp3" type="audio/mpeg">
        </audio>

        <div id="page0">
            <h1 class="celebration-title">Happy Valentine's Day! ‚ù§Ô∏è</h1>
            <p>Faria, an <b>Angel</b> is the only one who could ever light up the <b>Sun</b>. üåª</p>
            <button class="cute-btn" id="startValentine">Enter ‚ú®</button>
        </div>

        <div id="pageDate" class="hidden">
            <h2 class="celebration-title">27 / 12 / 2025</h2>
            <p>Our journey officially began. ‚ù§Ô∏è</p>
            <button class="cute-btn" onclick="nextPage('pageDate', 'pageCounter')">Continue ‚û°Ô∏è</button>
        </div>

        <div id="pageCounter" class="hidden">
            <h2 class="celebration-title">338 Days Met</h2>
            <p>Every single day has been a blessing, Twin. ‚ú®</p>
            <button class="cute-btn" onclick="nextPage('pageCounter', 'question1')">Next ‚û°Ô∏è</button>
        </div>

        <div id="question1" class="hidden">
            <h2 class="celebration-title">Do you like me?</h2>
            <div class="btn-wrapper" id="wrap1">
                <div class="hint-window" id="hint1">Psst... try pressing 'No' üòâ</div>
                <button class="cute-btn" id="yesBtn1" style="position: absolute; left: 10%; top: 20px;">Yes</button>
                <button class="cute-btn" id="noBtn1" style="position: absolute; right: 10%; top: 20px;">No</button>
            </div>
            <button class="cute-btn hidden" id="secretAnswerBtn" style="width:100%">I LOVE YOU! ‚ù§Ô∏è</button>
        </div>

        <div id="pageGallery" class="hidden">
            <h2 class="celebration-title">Our Moments</h2>
            <div class="photo-grid">
                <div class="photo-box"><img src="pic1.jpg.jpg"></div>
                <div class="photo-box"><img src="pic2.jpg.jpg"></div>
                <div class="photo-box"><img src="pic3.jpg.jpg"></div>
                <div class="photo-box"><img src="pic4.jpg.jpg"></div>
            </div>
            <button class="cute-btn" onclick="nextPage('pageGallery', 'question2')">Proceed ‚û°Ô∏è</button>
        </div>

        <div id="question2" class="hidden">
            <h2 class="celebration-title">Love Meter</h2>
            <input type="range" min="0" max="10000" value="100" class="slider" id="loveMeter" style="width:100%; accent-color: var(--primary);">
            <p>Level: <span id="loveValue" style="color:var(--primary); font-weight:bold;">100</span></p>
            <button class="cute-btn" id="nextBtn">Next ‚û°Ô∏è</button>
        </div>

        <div id="question3" class="hidden">
            <h2 class="celebration-title">Be my Valentine?</h2>
            <div class="btn-wrapper" id="wrap3">
                <div class="hint-window" id="hint2">Don't you dare! üò§</div>
                <button class="cute-btn" id="yesBtn3" style="position: absolute; left: 10%; top: 20px;">Yes!</button>
                <button class="cute-btn" id="noBtn3" style="position: absolute; right: 10%; top: 20px;">No</button>
            </div>
        </div>

        <div id="pageLetter1" class="hidden">
            <h2 class="celebration-title">For You, Princess</h2>
            <div class="letter-content">
                To my fairytale princess, I won‚Äôt ask you to be my valentine‚ÄîI‚Äôm not trying to be your boyfriend, just your husband someday. No matter where life takes you, whenever the sun rises, I‚Äôll think of you.
            </div>
            <button class="cute-btn" onclick="nextPage('pageLetter1', 'pageLetter2')">Read more ‚û°Ô∏è</button>
        </div>

        <div id="pageLetter2" class="hidden">
            <div class="letter-content">
                You‚Äôre my first love, and if Allah wills, my last. Like a compass, what‚Äôs meant for you always finds its way back. Keep smiling freely. I‚Äôll grow into your dream man. <br><br><b>Loveyou 3000 always.</b>
            </div>
            <button class="cute-btn" onclick="nextPage('pageLetter2', 'celebration')">Finish ‚ú®</button>
        </div>

        <div id="celebration" class="hidden">
            <h1 class="celebration-title">Date Confirmed! ü•≥</h1>
            <p style="margin: 0; font-size: 0.9rem;">(just kidding)</p>
            <p style="margin-top: 5px;">I'm the luckiest twin ever! ‚ù§Ô∏è</p>
            <div style="font-size: 3.5rem; margin-top: 10px;">üíñ‚ú®üåª</div>
            <p style="font-size: 0.8rem; opacity: 0.8;">Love, Your Sunshine</p>
        </div>
    </div>

    <script>
        const music = document.getElementById('bgMusic');
        const phrases = ["Give me another chance", "I'm not that bad üòû", "Hey that's rude", "Pleaseeee", "Don't do this", "Think again!"];
        let clickCount = 0;
        let scaleYes = 1;
        let scaleNo = 1;

        function vibrate(ms = 40) { if(navigator.vibrate) navigator.vibrate(ms); }

        function nextPage(curr, next) {
            vibrate();
            document.getElementById(curr).classList.add('hidden');
            document.getElementById(next).classList.remove('hidden');
            if(next === 'celebration') startMegaConfetti();
        }

        document.getElementById('startValentine').onclick = () => {
            music.play().catch(()=>{});
            nextPage('page0', 'pageDate');
            setInterval(createHeart, 450);
        };

        function moveBtn(btn, wrapper) {
            vibrate(50);
            clickCount++;
            
            const hint = wrapper.querySelector('.hint-window');
            if(hint) hint.classList.add('hidden');

            if(btn.id.includes('no')) {
                btn.innerText = phrases[clickCount % phrases.length];
            }

            scaleYes += 0.22;
            scaleNo *= 0.8;
            
            const yesBtn = btn.id.includes('1') ? document.getElementById('yesBtn1') : document.getElementById('yesBtn3');
            const noBtn = btn.id.includes('1') ? document.getElementById('noBtn1') : document.getElementById('noBtn3');
            
            yesBtn.style.transform = `scale(${scaleYes})`;
            noBtn.style.transform = `scale(${scaleNo})`;

            if(btn.id.includes('1')) {
                const secret = document.getElementById('secretAnswerBtn');
                secret.classList.remove('hidden');
                secret.style.boxShadow = `0 0 ${clickCount * 12}px #ff0040`;
                secret.style.background = `rgba(255, 0, 64, ${Math.min(0.5 + (clickCount * 0.1), 1)})`;
            }

            const rect = wrapper.getBoundingClientRect();
            const bRect = noBtn.getBoundingClientRect();
            const maxX = rect.width - bRect.width;
            const maxY = rect.height - bRect.height;
            
            noBtn.style.left = Math.max(0, Math.random() * maxX) + "px";
            noBtn.style.top = Math.max(0, Math.random() * maxY) + "px";
        }

        document.getElementById('noBtn1').onclick = function() { moveBtn(this, document.getElementById('wrap1')); };
        document.getElementById('noBtn3').onclick = function() { moveBtn(this, document.getElementById('wrap3')); };
        document.getElementById('yesBtn1').onclick = function() { moveBtn(this, document.getElementById('wrap1')); };
        document.getElementById('yesBtn3').onclick = function() { nextPage('question3', 'pageLetter1'); };
        
        document.getElementById('secretAnswerBtn').onclick = () => {
            vibrate(100);
            nextPage('question1', 'pageGallery');
        };

        document.getElementById('loveMeter').oninput = (e) => {
            document.getElementById('loveValue').innerText = e.target.value;
        };
        document.getElementById('nextBtn').onclick = () => nextPage('question2', 'question3');

        function createHeart() {
            const h = document.createElement('div');
            h.className = 'heart-float'; h.innerText = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üåª';
            h.style.left = Math.random() * 100 + "vw";
            h.style.fontSize = (Math.random() * 10 + 15) + "px";
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 5000);
        }

        function startMegaConfetti() {
            for(let i=0; i<150; i++) spawnConfetti();
            const interval = setInterval(spawnConfetti, 50);
            setTimeout(() => clearInterval(interval), 6000); 
        }

        function spawnConfetti() {
            const colors = ['#ff4757', '#ff6b6b', '#ffafbd', '#ffffff', '#ffdada', '#FFD700', '#FFA500'];
            const c = document.createElement('div');
            c.className = 'confetti-piece';
            c.style.background = colors[Math.floor(Math.random() * colors.length)];
            c.style.left = Math.random() * 100 + "vw";
            c.style.top = "-10px";
            document.body.appendChild(c);

            const fallDuration = Math.random() * 3 + 2;
            c.animate([
                { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
                { transform: `translate(${(Math.random() * 400) - 200}px, 105vh) rotate(${Math.random() * 1000}deg)`, opacity: 0 }
            ], { duration: fallDuration * 1000, easing: 'cubic-bezier(0.1, 0.5, 0.5, 1)' });

            setTimeout(() => c.remove(), fallDuration * 1000);
        }
    </script>
</body>
</html>
