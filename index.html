<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Twin ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #ff4757;
            --accent: #ff6b6b;
            --bg-grad: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
        }

        * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        body, html { height: 100%; margin: 0; padding: 0; overflow: hidden; font-family: 'Poppins', sans-serif; background: #ffafbd; }
        body { display: flex; justify-content: center; align-items: center; background: var(--bg-grad); }

        /* --- LUXE ENVELOPE --- */
        #opener {
            position: fixed; inset: 0; z-index: 9999; background: var(--bg-grad);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: all 0.8s ease-in-out;
        }

        .envelope-wrapper {
            position: relative; width: 280px; height: 180px; background: #fff3f5;
            border-radius: 0 0 15px 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            display: flex; align-items: center; justify-content: center; cursor: pointer;
        }

        .envelope-wrapper::before {
            content: ""; position: absolute; top: -100px; left: 0;
            border-left: 140px solid transparent; border-right: 140px solid transparent;
            border-bottom: 100px solid #ffe4e8; z-index: 2;
        }

        .wax-seal {
            position: absolute; bottom: 70px; width: 60px; height: 60px;
            background: var(--primary); border-radius: 50%; z-index: 10;
            display: flex; align-items: center; justify-content: center;
            font-size: 25px; box-shadow: 0 5px 15px rgba(255, 71, 87, 0.4);
            animation: pulse 2s infinite;
        }

        /* --- MAIN CONTAINER --- */
        .container {
            width: 92%; max-width: 380px; background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 25px; border-radius: 35px; text-align: center;
            min-height: 580px; display: flex; flex-direction: column; justify-content: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); position: relative; border: 1px solid rgba(255,255,255,0.3);
        }

        .hidden { display: none !important; }
        .title { font-family: 'Dancing Script', cursive; font-size: 2.3rem; color: var(--primary); margin-bottom: 10px; }
        
        .cute-btn { 
            padding: 15px 20px; margin: 8px 0; border: none; border-radius: 50px; 
            background: var(--primary); color: white; font-weight: 600; width: 100%;
            box-shadow: 0 5px 15px rgba(255, 71, 87, 0.3); font-size: 0.9rem; transition: all 0.2s;
        }

        /* --- PORTRAIT & GALLERY --- */
        .photo-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0; }
        .photo-frame { background: white; padding: 5px 5px 12px 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); transform: rotate(var(--r)); }
        .photo-frame img { width: 100%; aspect-ratio: 1/1; object-fit: cover; display: block; }

        .portrait-img { 
            width: 200px; height: 260px; object-fit: cover; border-radius: 100px 100px 20px 20px; 
            border: 6px solid white; box-shadow: 0 10px 25px rgba(0,0,0,0.1); margin: 0 auto;
        }

        /* --- METER --- */
        .slider-box { position: relative; padding: 40px 0; width: 100%; }
        .track { height: 8px; background: rgba(255,255,255,0.8); border-radius: 10px; width: 100%; }
        #thumb { 
            width: 50px; height: 50px; position: absolute; top: 50%; left: 0; transform: translate(-50%, -50%); 
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff4757"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') no-repeat center;
            background-size: contain; z-index: 10;
        }

        .check-row { display: flex; align-items: center; text-align: left; margin: 10px 0; font-size: 0.85rem; }
        .check-row input { width: 18px; height: 18px; margin-right: 12px; accent-color: var(--primary); }

        #floatingLove {
            position: absolute; z-index: 2000; padding: 15px 25px; border-radius: 50px;
            background: var(--primary); color: white; border: 2px solid white; font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2); width: auto; white-space: nowrap;
        }

        #musicBtn { position: fixed; top: 20px; right: 20px; z-index: 10000; background: white; width: 40px; height: 40px; border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center; }
        .trail { position: fixed; pointer-events: none; z-index: 9999; animation: fadeOut 0.8s forwards; font-size: 20px; }
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.1);} 100% {transform: scale(1);} }
        @keyframes fadeOut { 0% {opacity:1;} 100% {opacity:0; transform: scale(0.5) translateY(-20px);} }
    </style>
</head>
<body>

    <button id="musicBtn" onclick="toggleMute()">üîä</button>
    <audio id="bgMusic" loop preload="auto"><source src="music.mp3" type="audio/mpeg"></audio>

    <div id="opener" onclick="begin()">
        <div class="envelope-wrapper">
            <div class="wax-seal">‚ù§Ô∏è</div>
            <p style="margin-top: 100px; color: #ff8e9b; font-weight: bold; font-size: 0.8rem;">CLICK TO UNSEAL</p>
        </div>
        <p style="font-family:'Dancing Script'; font-size:1.8rem; margin-top:30px; color: white;">For Faria</p>
    </div>

    <div id="main" class="container hidden">
        <div id="p1">
            <h2 class="title">27 / 12 / 2024</h2>
            <p>A date etched in my heart. ‚ù§Ô∏è</p>
            <button class="cute-btn" onclick="go('p1','p2')">Continue ‚û°Ô∏è</button>
        </div>

        <div id="p2" class="hidden">
            <h2 class="title">338 Days Met</h2>
            <p>Every day is a new reason to smile. ‚ú®</p>
            <div style="font-size: 3.5rem; margin: 15px;">üîó‚ù§Ô∏èüîó</div>
            <button class="cute-btn" onclick="go('p2','p3')">Next ‚û°Ô∏è</button>
        </div>

        <div id="p3" class="hidden">
            <h2 class="title">Do you like me?</h2>
            <div id="btnArea" style="height: 250px; position: relative; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <button class="cute-btn" id="yes1" style="width: 140px;" onclick="handleChoice()">Yes</button>
                <button class="cute-btn" id="no1" style="width: 140px; background: #888;" onclick="handleChoice()">No</button>
                <button id="floatingLove" class="hidden" onclick="go('p3','p4')">I don't just like you, I LOVE YOU! ‚ù§Ô∏è</button>
            </div>
        </div>

        <div id="p4" class="hidden">
            <h2 class="title">Our Memories</h2>
            <div class="photo-grid">
                <div class="photo-frame" style="--r: -3deg;"><img src="pic1.jpg.jpg"></div>
                <div class="photo-frame" style="--r: 2deg;"><img src="pic2.jpg.jpg"></div>
                <div class="photo-frame" style="--r: -2deg;"><img src="pic3.jpg.jpg"></div>
                <div class="photo-frame" style="--r: 4deg;"><img src="pic4.jpg.jpg"></div>
            </div>
            <button class="cute-btn" onclick="go('p4','p5')">The One ‚û°Ô∏è</button>
        </div>

        <div id="p5" class="hidden">
            <h2 class="title">My Favorite View</h2>
            <img src="her_face.jpg" class="portrait-img">
            <p style="font-size: 0.85rem; margin-top: 15px; font-style: italic;">
                That face, those eyes, that heart... <br>
                You‚Äôre the future <b>mother</b> of our dreams. üåª
            </p>
            <button class="cute-btn" onclick="go('p5','p6')">Our Promises ‚û°Ô∏è</button>
        </div>

        <div id="p6" class="hidden">
            <h2 class="title">Our Goals</h2>
            <div class="check-row"><input type="checkbox" class="req"> Get golden in boards üèÖ</div>
            <div class="check-row"><input type="checkbox" class="req"> Get into a good college üéì</div>
            <div class="check-row"><input type="checkbox" class="req"> Become independent üíº</div>
            <div class="check-row"><input type="checkbox"> Become Husband & Wife (Soon) üíç</div>
            <button class="cute-btn" id="goalNext" disabled style="opacity:0.5;" onclick="go('p6','p7')">Locked üîí</button>
        </div>

        <div id="p7" class="hidden">
            <h2 class="title">Love Meter</h2>
            <p id="meterHint" style="font-size: 0.75rem;">Push the heart to the limit! üòâ</p>
            <div class="slider-box">
                <div class="track"><div id="thumb"></div></div>
            </div>
            <h1 id="val" style="font-size: 3.5rem; margin: 0; color: var(--primary);">0%</h1>
            <button class="cute-btn" id="meterNext" disabled style="background:#bbb;" onclick="go('p7','p8')">Locked üîí</button>
        </div>

        <div id="p8" class="hidden">
            <h2 class="title">Official Request</h2>
            <p style="font-size: 0.9rem; margin-bottom: 20px;">Will you be my Valentine and my partner in everything?</p>
            <button class="cute-btn" onclick="go('p8','p9')">YES - Forever & Always ‚ù§Ô∏è</button>
            <button class="cute-btn" onclick="go('p8','p9')" style="background:#333; color:gold;">YES - I am yours üíç</button>
            <button class="cute-btn" onclick="go('p8','p9')" style="background:white; color:var(--primary);">YES - Take my heart üåª</button>
            <button id="noFinal" class="cute-btn" style="width:auto; position:absolute; bottom:0; left:35%; background:#888;">No</button>
        </div>

        <div id="p9" class="hidden">
            <h2 class="title">My Promise</h2>
            <div style="background:white; padding:20px; border-radius:15px; text-align:left; font-size:0.85rem; line-height:1.6; max-height: 280px; overflow-y: auto;">
                Faria, I'm not trying to be just your boyfriend‚ÄîI'm trying to be your <b style="color:#d4af37">Husband</b> someday. 
                <br><br>
                From the moment we met, you've been the sunshine that brightens my darkest days. You're my twin, my better half, and my greatest blessing. No matter what life throws at us, I want to be the one standing by your side.
                <br><br>
                Wherever the sun rises, I'll think of you. You're my first real love, and if Allah wills, I want you to be my last. I promise to support you in your goals, to be there for every board exam and every victory.
                <br><br>
                <b>I love you 3000, always and forever.</b>
            </div>
            <button class="cute-btn" onclick="go('p9','p10')">One last thing... ‚ú®</button>
        </div>

        <div id="p10" class="hidden">
            <h2 class="title">Thank You, Twin</h2>
            <p>For being you. For choosing me. For everything.</p>
            <div style="font-size: 5rem; margin: 20px;">üåª‚ù§Ô∏èüåª</div>
            <p style="font-size: 0.8rem; opacity: 0.7;">Close this and come back to me.</p>
            <button class="cute-btn" onclick="location.reload()">Replay the Magic ‚ú®</button>
        </div>
    </div>

    <script>
        const audio = document.getElementById('bgMusic');
        const main = document.getElementById('main');
        let clickCount = 0; let yesSize = 1; let noSize = 1;

        function toggleMute() {
            audio.muted = !audio.muted;
            document.getElementById('musicBtn').innerText = audio.muted ? 'üîá' : 'üîä';
        }

        function begin() {
            audio.play().catch(() => {});
            document.getElementById('opener').style.opacity = '0';
            document.getElementById('opener').style.transform = 'scale(1.2)';
            setTimeout(() => {
                document.getElementById('opener').classList.add('hidden');
                main.classList.remove('hidden');
            }, 600);
        }

        function go(c, n) {
            document.getElementById(c).classList.add('hidden');
            document.getElementById(n).classList.remove('hidden');
        }

        function handleChoice() {
            clickCount++; yesSize += 0.5; noSize -= 0.2;
            const yesBtn = document.getElementById('yes1');
            const noBtn = document.getElementById('no1');
            yesBtn.style.transform = `scale(${yesSize})`;
            noBtn.style.transform = `scale(${noSize})`;
            if (clickCount >= 3) {
                yesBtn.classList.add('hidden'); noBtn.classList.add('hidden');
                const float = document.getElementById('floatingLove');
                float.classList.remove('hidden');
                setInterval(() => {
                    float.style.left = Math.random() * 60 + 10 + "%";
                    float.style.top = Math.random() * 60 + 10 + "%";
                }, 800);
            }
        }

        document.querySelectorAll('.req').forEach(i => {
            i.onchange = () => {
                const ok = Array.from(document.querySelectorAll('.req')).every(r => r.checked);
                const b = document.getElementById('goalNext');
                b.disabled = !ok; b.style.opacity = ok ? "1" : "0.5";
                b.innerText = ok ? "Continue ‚û°Ô∏è" : "Locked üîí";
            };
        });

        const thumb = document.getElementById('thumb');
        const track = document.querySelector('.track');
        let active = false;

        const move = (x) => {
            if (!active) return;
            const rect = track.getBoundingClientRect();
            let p = Math.round(((x - rect.left) / rect.width) * 100);
            if (p < 0) p = 0;
            thumb.style.left = p + "%";
            document.getElementById('val').innerText = p + "%";
            if (p > 100) {
                document.getElementById('meterHint').innerText = "LIMITLESS LOVE! ‚ö†Ô∏è";
                main.style.transform = `translate(${(Math.random()-0.5)*15}px, ${(Math.random()-0.5)*15}px)`;
            }
            if (p >= 100) {
                const btn = document.getElementById('meterNext');
                btn.disabled = false; btn.innerText = "Unlock ‚ú®"; btn.style.background = "#ff4757";
            }
        };

        thumb.addEventListener('touchstart', () => active = true);
        window.addEventListener('touchend', () => { active = false; main.style.transform = "translate(0,0)"; });
        window.addEventListener('touchmove', (e) => move(e.touches[0].clientX));

        document.getElementById('noFinal').addEventListener('touchstart', function(e) {
            e.preventDefault();
            this.style.left = Math.random() * 70 + "%";
            this.style.top = Math.random() * 50 + 20 + "%";
        });

        window.addEventListener('touchmove', (e) => {
            const t = document.createElement('div');
            t.className = 'trail'; t.innerText = 'üåª';
            t.style.left = e.touches[0].clientX + 'px'; t.style.top = e.touches[0].clientY + 'px';
            document.body.appendChild(t);
            setTimeout(() => t.remove(), 800);
        });
    </script>
</body>
</html>
