<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Fairytale Princess ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        
        html, body {
            height: 100%; margin: 0; padding: 0;
            background: #ffafbd; font-family: 'Poppins', sans-serif;
            overflow: hidden; position: fixed; width: 100%;
        }

        body { display: flex; justify-content: center; align-items: center; }

        .bg-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
            z-index: -1;
        }

        .container {
            width: 92%; max-width: 360px;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            padding: 20px; border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center; z-index: 10;
        }

        .hidden { display: none !important; }

        .celebration-title { font-family: 'Dancing Script', cursive; font-size: 1.8rem; color: #ff4757; margin: 0 0 10px 0; }
        .poetic-text { font-style: italic; font-size: 0.9rem; line-height: 1.4; color: #d63031; margin-bottom: 10px; }
        
        #musicToggle {
            position: fixed; top: 15px; right: 15px; z-index: 2000;
            background: rgba(255,255,255,0.6); border: none; border-radius: 50%;
            width: 40px; height: 40px; cursor: pointer; font-size: 20px;
        }

        .cute-btn {
            display: inline-block; padding: 12px 24px; margin: 8px; border: none; 
            border-radius: 50px; background: #ff6b6b; color: white; 
            font-size: 14px; font-weight: 600; cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 71, 87, 0.2);
        }

        .photo-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 10px 0; }
        .photo-box {
            width: 100%; aspect-ratio: 1/1; background: rgba(255,255,255,0.3); 
            border-radius: 10px; overflow: hidden; border: 2px solid white;
        }
        .photo-box img { width: 100%; height: 100%; object-fit: cover; }

        .slider { width: 100%; margin: 15px 0; accent-color: #ff4757; }
        .confetti { position: fixed; width: 10px; height: 10px; z-index: 9999; pointer-events: none; }

        .letter-content {
            text-align: left; font-size: 0.85rem; color: #444; line-height: 1.5;
            background: rgba(255, 255, 255, 0.4); padding: 15px; border-radius: 12px;
            border-left: 3px solid #ff4757; margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <button id="musicToggle">üéµ</button>
    <div class="bg-layer"></div>
    
    <div class="container">
        <audio id="bgMusic" loop preload="auto">
            <source src="music.mp3" type="audio/mpeg">
        </audio>

        <div id="page0">
            <h1 class="celebration-title">Happy Valentine's Day! ‚ù§Ô∏è</h1>
            <p class="poetic-text">Faria, an <b>Angel</b> is the only one who could ever light up the <b>Sun</b>.</p>
            <button class="cute-btn" id="startValentine">Enter ‚ú®</button>
        </div>

        <div id="pageDate" class="hidden">
            <h2 class="celebration-title">27 / 12 / 2025</h2>
            <p style="font-size: 0.9rem;">The day our journey officially began. ‚ù§Ô∏è</p>
            <button class="cute-btn" onclick="nextPage('pageDate', 'pageCounter')">Continue ‚û°Ô∏è</button>
        </div>

        <div id="pageCounter" class="hidden">
            <h2 class="celebration-title">338 Days Met</h2>
            <p style="font-size: 0.9rem;">Every day has been a blessing, Twin. ‚ú®</p>
            <button class="cute-btn" onclick="nextPage('pageCounter', 'question1')">Next ‚û°Ô∏è</button>
        </div>

        <div id="question1" class="hidden">
            <h2 class="celebration-title">Do you like me?</h2>
            <div id="btn-area" style="height: 100px; position: relative;">
                <button class="cute-btn" id="yesBtn1">Yes</button>
                <button class="cute-btn" id="noBtn1">No</button>
            </div>
            <button class="cute-btn hidden" id="secretAnswerBtn" style="width:100%">I LOVE YOU! ‚ù§Ô∏è</button>
        </div>

        <div id="pageGallery" class="hidden">
            <h2 class="celebration-title">Our Moments</h2>
            <div class="photo-grid">
                <div class="photo-box"><img src="pic1.jpg.jpg"></div>
                <div class="photo-box"><img src="pic2.jpg.jpg"></div>
                <div class="photo-box"><img src="pic3.jpg.jpg"></div>
                <div class="photo-box"><img src="pic4.jpg.jpg"></div>
            </div>
            <button class="cute-btn" onclick="nextPage('pageGallery', 'question2')">Proceed ‚û°Ô∏è</button>
        </div>

        <div id="question2" class="hidden">
            <h2 class="celebration-title">Love Meter</h2>
            <input type="range" min="0" max="10000" value="100" class="slider" id="loveMeter">
            <p style="font-size: 0.9rem;">Level: <span id="loveValue" style="color:#ff4757; font-weight:bold;">100</span></p>
            <button class="cute-btn" id="nextBtn">Next ‚û°Ô∏è</button>
        </div>

        <div id="question3" class="hidden">
            <h2 class="celebration-title">Final Question</h2>
            <p style="font-size: 0.9rem;">Be my Valentine, Faria?</p>
            <div id="final-btn-area">
                <button class="cute-btn" id="yesBtn3">Yes!</button>
                <button class="cute-btn" id="noBtn3">No</button>
            </div>
        </div>

        <div id="pageLetter1" class="hidden">
            <h2 class="celebration-title">For You...</h2>
            <div class="letter-content">
                To my fairytale princess, I won‚Äôt ask you to be my valentine‚ÄîI‚Äôm not trying to be your boyfriend, just your husband someday. No matter where life takes you, whenever the sun rises, I‚Äôll think of you.
            </div>
            <button class="cute-btn" onclick="nextPage('pageLetter1', 'pageLetter2')">Read more ‚û°Ô∏è</button>
        </div>

        <div id="pageLetter2" class="hidden">
            <div class="letter-content">
                You‚Äôre my first love, and if Allah wills, my last. Like a compass, what‚Äôs meant for you always finds its way back. Keep smiling freely. I‚Äôll grow into your dream man. <br><br><b>Loveyou 3000 always.</b>
            </div>
            <button class="cute-btn" onclick="nextPage('pageLetter2', 'celebration')">Finish ‚ú®</button>
        </div>

        <div id="celebration" class="hidden">
            <h1 class="celebration-title">Date Confirmed! ü•≥</h1>
            <p style="font-size: 0.8rem;">(just kidding)</p>
            <p style="font-size: 0.9rem;">I'm the luckiest twin ever! ‚ù§Ô∏è</p>
            <div style="font-size: 2.5rem;">üíñ‚ú®üåπ</div>
        </div>
    </div>

    <script>
        const music = document.getElementById('bgMusic');
        const musicToggle = document.getElementById('musicToggle');
        let totalClicks = 0;
        let yesScale = 1;

        function nextPage(current, next) {
            document.getElementById(current).classList.add('hidden');
            document.getElementById(next).classList.remove('hidden');
            if(next === 'celebration') launchConfetti();
        }

        // Music toggle
        musicToggle.onclick = (e) => {
            e.stopPropagation();
            if (music.paused) { music.play(); musicToggle.innerText = "üéµ"; }
            else { music.pause(); musicToggle.innerText = "üîá"; }
        };

        // FIXED ENTER BUTTON
        document.getElementById('startValentine').addEventListener('click', function() {
            // Start music but don't wait for it
            music.play().catch(e => console.log("Music play blocked, waiting for interaction"));
            nextPage('page0', 'pageDate');
        });

        function handleChaos(e) {
            totalClicks++;
            const yesBtn = document.getElementById('yesBtn1');
            const noBtn = document.getElementById('noBtn1');
            
            if (yesScale < 1.4) { 
                yesScale += 0.12; 
                yesBtn.style.transform = `scale(${yesScale})`; 
            }
            
            [yesBtn, noBtn].forEach(btn => {
                btn.style.position = 'fixed';
                btn.style.left = (Math.floor(Math.random() * 40) + 25) + 'vw';
                btn.style.top = (Math.floor(Math.random() * 30) + 35) + 'vh';
            });
            
            if (totalClicks >= 3) {
                document.getElementById('secretAnswerBtn').classList.remove('hidden');
            }
        }

        document.getElementById('yesBtn1').onclick = handleChaos;
        document.getElementById('noBtn1').onclick = handleChaos;

        document.getElementById('secretAnswerBtn').onclick = function() {
            document.getElementById('yesBtn1').style.display = 'none';
            document.getElementById('noBtn1').style.display = 'none';
            nextPage('question1', 'pageGallery');
        };

        document.getElementById('loveMeter').oninput = function(e) {
            document.getElementById('loveValue').innerText = e.target.value;
        };

        document.getElementById('nextBtn').onclick = () => nextPage('question2', 'question3');

        document.getElementById('noBtn3').onclick = function() {
            this.style.position = 'fixed';
            this.style.left = (Math.random() * 40 + 25) + 'vw';
            this.style.top = (Math.random() * 30 + 35) + 'vh';
        };

        document.getElementById('yesBtn3').onclick = () => nextPage('question3', 'pageLetter1');

        function launchConfetti() {
            const colors = ['#ff4757', '#ff6b6b', '#ffafbd', '#ffffff', '#ffdada'];
            for (let i = 0; i < 80; i++) {
                const confetti = document.createElement('div');
                confetti.style.cssText = `
                    position: fixed; width: 10px; height: 10px; z-index: 9999;
                    background-color: ${colors[Math.floor(Math.random() * colors.length)]};
                    left: ${Math.random() * 100}vw; top: -10px; pointer-events: none;
                `;
                document.body.appendChild(confetti);
                const fallDuration = Math.random() * 2 + 2;
                confetti.animate([
                    { transform: 'translate3d(0, 0, 0) rotate(0deg)', opacity: 1 },
                    { transform: `translate3d(${(Math.random()*160)-80}px, 100vh, 0) rotate(${Math.random()*720}deg)`, opacity: 0 }
                ], { duration: fallDuration * 1000, easing: 'linear' });
                setTimeout(() => confetti.remove(), fallDuration * 1000);
            }
        }
    </script>
</body>
</html>
