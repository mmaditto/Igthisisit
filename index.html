<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Twin â¤ï¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root {
            --primary: #ff4757;
            --bg-1: #ffafbd; --bg-2: #ffc3a0;
        }

        * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        
        html, body { 
            height: 100%; margin: 0; padding: 0; 
            overflow: hidden; width: 100vw;
            background: linear-gradient(135deg, var(--bg-1) 0%, var(--bg-2) 100%);
            display: flex; justify-content: center; align-items: center;
            transition: background 1s ease;
        }

        .container {
            width: calc(100% - 40px); max-width: 360px; 
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 25px; border-radius: 35px; text-align: center;
            min-height: 600px; display: flex; flex-direction: column; justify-content: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,0.4);
            z-index: 10;
        }

        .hidden { display: none !important; }
        .title { font-family: 'Dancing Script', cursive; font-size: 2.2rem; color: var(--primary); margin: 0 0 10px 0; }
        .cute-btn { 
            padding: 16px; margin: 8px 0; border: none; border-radius: 50px; 
            background: var(--primary); color: white; font-weight: 600; width: 100%;
            box-shadow: 0 5px 15px rgba(255, 71, 87, 0.2); font-size: 0.95rem;
        }

        @keyframes nuclear {
            0% { transform: translate(0,0) rotate(0); }
            25% { transform: translate(-10px, 10px) rotate(-3deg); }
            50% { transform: translate(10px, -10px) rotate(3deg); }
            75% { transform: translate(-10px, -10px) rotate(-1deg); }
            100% { transform: translate(0,0) rotate(0); }
        }
        .nuclear-mode { animation: nuclear 0.08s infinite !important; background: #ff3333 !important; }

        .slider-box { position: relative; padding: 40px 0; width: 100%; }
        .track { height: 12px; background: rgba(255,255,255,0.8); border-radius: 10px; width: 100%; }
        #thumb { 
            width: 60px; height: 60px; position: absolute; top: 50%; left: 0; transform: translate(-50%, -50%); 
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff4757"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') no-repeat center;
            background-size: contain; z-index: 10;
        }

        .portrait { width: 100%; height: 320px; background: white; border-radius: 20px; padding: 8px; margin: 10px 0; overflow: hidden; }
        .portrait img { width: 100%; height: 100%; object-fit: cover; border-radius: 12px; }
    </style>
</head>
<body>

    <button id="musicBtn" style="position:fixed; top:15px; right:15px; z-index:10001; background:white; border:none; width:40px; height:40px; border-radius:50%;" onclick="toggleMute()">ğŸ”Š</button>
    <audio id="bgMusic" loop preload="auto"><source src="music.mp3" type="audio/mpeg"></audio>

    <div id="opener" onclick="begin()" style="position:fixed; inset:0; z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center; background:var(--bg-1); transition: 0.8s;">
        <div style="width:280px; height:180px; background:#fff3f5; border-radius:0 0 15px 15px; position:relative; display:flex; align-items:center; justify-content:center;">
            <div style="position:absolute; top:-100px; left:0; border-left:140px solid transparent; border-right:140px solid transparent; border-bottom:100px solid #ffe4e8;"></div>
            <div style="font-size:30px;">â¤ï¸</div>
        </div>
        <p style="font-family:'Dancing Script'; font-size:1.8rem; margin-top:30px; color: white;">Open for a surprise, Twin</p>
    </div>

    <div id="main" class="container hidden">
        
        <div id="p1">
            <h2 class="title">27 / 12 / 2024</h2>
            <p>The day my life changed. â¤ï¸</p>
            <button class="cute-btn" onclick="go('p1','p2')">Continue â¡ï¸</button>
        </div>

        <div id="p2" class="hidden">
            <h2 class="title">338 Days Met</h2>
            <p>Every second counts with you. âœ¨</p>
            <div style="font-size: 3rem; margin: 10px;">ğŸ”—â¤ï¸ğŸ”—</div>
            <button class="cute-btn" onclick="go('p2','p3')">Next â¡ï¸</button>
        </div>

        <div id="p3" class="hidden">
            <h2 class="title">Do you like me?</h2>
            <div id="btnArea" style="height: 250px; position: relative;">
                <button class="cute-btn" id="yes1" style="width: 140px; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);" onclick="handleChoice()">Yes</button>
                <button class="cute-btn" id="no1" style="width: 140px; background: #999; position: absolute; left: 50%; top: 75%; transform: translate(-50%, -50%);" onclick="handleChoice()">No</button>
                <button id="floatingLove" class="hidden" style="position:absolute; background:var(--primary); color:white; padding:15px 25px; border-radius:50px; border:2px solid white;" onclick="go('p3','p4')">I LOVE YOU! â¤ï¸</button>
            </div>
        </div>

        <div id="p4" class="hidden">
            <h2 class="title">Our Memories</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 10px 0;">
                <div style="background:white; padding:4px; transform:rotate(-3deg);"><img src="pic1.jpg.jpg" style="width:100%; aspect-ratio:1/1; object-fit:cover;"></div>
                <div style="background:white; padding:4px; transform:rotate(2deg);"><img src="pic2.jpg.jpg" style="width:100%; aspect-ratio:1/1; object-fit:cover;"></div>
                <div style="background:white; padding:4px; transform:rotate(-2deg);"><img src="pic3.jpg.jpg" style="width:100%; aspect-ratio:1/1; object-fit:cover;"></div>
                <div style="background:white; padding:4px; transform:rotate(4deg);"><img src="pic4.jpg.jpg" style="width:100%; aspect-ratio:1/1; object-fit:cover;"></div>
            </div>
            <button class="cute-btn" onclick="go('p4','p5')">Favorite View â¡ï¸</button>
        </div>

        <div id="p5" class="hidden">
            <h2 class="title">My Divine Twin</h2>
            <div class="portrait"><img src="her_face.jpg.jpg"></div>
            <p style="font-size: 0.75rem;">I see the mother of our children in your soul. ğŸŒ»</p>
            <button class="cute-btn" onclick="go('p5','p6')">Our Goals â¡ï¸</button>
        </div>

        <div id="p6" class="hidden">
            <h2 class="title">Our Goals</h2>
            <div style="text-align: left; display: inline-block;">
                <div style="margin: 8px 0;"><input type="checkbox" class="req"> Boards Golden ğŸ…</div>
                <div style="margin: 8px 0;"><input type="checkbox" class="req"> Good College ğŸ“</div>
                <div style="margin: 8px 0;"><input type="checkbox" class="req"> Independence ğŸ’¼</div>
                <div style="margin: 8px 0;"><input type="checkbox"> Become Husband & Wife (hopefully one day) ğŸ’</div>
            </div>
            <button class="cute-btn" id="goalNext" disabled style="opacity:0.5;" onclick="go('p6','p7')">Locked ğŸ”’</button>
        </div>

        <div id="p7" class="hidden">
            <h2 class="title">Love Meter</h2>
            <p id="meterHint" style="font-weight:bold; color:var(--primary);">Slide to see my love level...</p>
            <div class="slider-box">
                <div class="track"><div id="thumb"></div></div>
            </div>
            <h1 id="val" style="font-size: 3rem; margin: 0; color: var(--primary);">0%</h1>
            <button class="cute-btn" id="meterNext" disabled style="background:#bbb;" onclick="go('p7','p8')">Locked ğŸ”’</button>
        </div>

        <div id="p8" class="hidden">
            <h2 class="title">Be my Valentine?</h2>
            <button class="cute-btn" onclick="go('p8','p9')">YES - Forever & Always â¤ï¸</button>
            <button class="cute-btn" onclick="go('p8','p9')" style="background:#333; color:gold;">YES - I am yours ğŸ’</button>
            <button id="noFinal" class="cute-btn" style="width:auto; position:absolute; bottom:20px; left:40%; background:#888; padding: 10px 20px;">No</button>
        </div>

        <div id="p9" class="hidden">
            <h2 class="title">My Promise</h2>
            <div style="background:white; padding:15px; border-radius:15px; text-align:left; font-size:0.85rem; line-height:1.5; max-height: 260px; overflow-y: auto;">
                To my fairytale princess, happy Valentineâ€™s Day. I wonâ€™t ask you to be my valentineâ€”Iâ€™m not trying to be your boyfriend, just your husband someday. 
                <br><br>
                No matter where life takes you, whenever the sun rises, Iâ€™ll think of you and love you completely. Iâ€™m better with words in texts, but my feelings are real. Youâ€™re my first love, and if Allah wills, my last. 
                <br><br>
                I fear losing you, yet I believe whatâ€™s meant for you always finds its way back, like a compass (need to be nerd enough). Keep smiling freely. Iâ€™ll grow into your dream man. Your twin will be by your side in every challenge you face. 
                <br><br>
                <b>Loveyou 3000 always.</b>
            </div>
            <button class="cute-btn" onclick="go('p9', 'p10'); celebrate();">One last thing... âœ¨</button>
        </div>

        <div id="p10" class="hidden">
            <h2 class="title">Thank You, Twin</h2>
            <p>For being my home.</p>
            <div id="flowerClicker" style="font-size: 5rem; margin: 10px; cursor: pointer;">ğŸŒ»â¤ï¸ğŸŒ»</div>
            <p style="font-size: 0.6rem; color: #ff4757;">(Tap our flowers 3 times for a secret...)</p>
            <button class="cute-btn" onclick="location.reload()">Replay âœ¨</button>
            <p style="font-size: 0.65rem; color: #777; font-style: italic; margin-top: -5px;">(had to be nerd enough to build thisğŸ˜­)</p>
        </div>
    </div>

    <script>
        const audio = document.getElementById('bgMusic');
        const main = document.getElementById('main');
        let clicks = 0; let ySize = 1;

        function begin() {
            audio.play().catch(() => {});
            document.getElementById('opener').style.opacity = '0';
            setTimeout(() => { document.getElementById('opener').classList.add('hidden'); main.classList.remove('hidden'); }, 600);
        }

        function go(c, n) {
            document.getElementById(c).classList.add('hidden');
            document.getElementById(n).classList.remove('hidden');
        }

        function handleChoice() {
            clicks++; ySize += 0.5;
            const yes = document.getElementById('yes1');
            yes.style.transform = `translate(-50%, -50%) scale(${ySize})`;
            if (clicks >= 4) {
                yes.classList.add('hidden'); document.getElementById('no1').classList.add('hidden');
                const f = document.getElementById('floatingLove'); f.classList.remove('hidden');
                setInterval(() => { f.style.left = Math.random() * 50 + 5 + "%"; f.style.top = Math.random() * 60 + 10 + "%"; }, 700);
            }
        }

        const thumb = document.getElementById('thumb');
        const track = document.querySelector('.track');
        let active = false;
        const move = (x) => {
            if (!active) return;
            const rect = track.getBoundingClientRect();
            let p = Math.round(((x - rect.left) / rect.width) * 100);
            p = Math.max(0, p);
            if (p > 100) {
                document.getElementById('val').innerText = "NUCLEAR OVERLOAD! âš ï¸";
                document.getElementById('val').style.color = "red";
                document.body.classList.add('nuclear-mode');
                thumb.style.left = "110%";
            } else {
                document.getElementById('val').innerText = p + "%";
                thumb.style.left = p + "%";
            }
            if (p >= 100) {
                const btn = document.getElementById('meterNext');
                btn.disabled = false; btn.innerText = "Unlock The Truth âœ¨"; btn.style.background = "red";
            }
        };

        thumb.addEventListener('touchstart', () => active = true);
        window.addEventListener('touchend', () => { active = false; document.body.classList.remove('nuclear-mode'); });
        window.addEventListener('touchmove', (e) => move(e.touches[0].clientX));

        document.querySelectorAll('.req').forEach(i => {
            i.onchange = () => {
                const ok = Array.from(document.querySelectorAll('.req')).every(r => r.checked);
                const b = document.getElementById('goalNext');
                b.disabled = !ok; b.style.opacity = ok ? "1" : "0.5";
                b.innerText = ok ? "Continue â¡ï¸" : "Locked ğŸ”’";
            };
        });

        document.getElementById('noFinal').addEventListener('touchstart', function(e) {
            e.preventDefault();
            this.style.left = Math.random() * 70 + "%";
            this.style.top = Math.random() * 60 + 10 + "%";
        });

        function celebrate() { confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } }); }
    </script>
</body>
</html>
